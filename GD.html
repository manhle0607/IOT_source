<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Interface</title>
    <link rel="stylesheet" href="GD.css">
    <link rel="stylesheet" href="new.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        body {
            display: flex;
            flex-direction: column;
            margin: 0;
            font-family: Arial, sans-serif;
        }

        .main-content {
            display: flex;

        }

        /* Left-side Tab Buttons */
        .tab-buttons {
            width: 250px;
            background-color: #333;
            padding: 10px;
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
        }

        .tab-buttons button {
            margin-bottom: 10px;
            padding: 10px 20px;
            border: none;
            background-color: #007bff;
            color: white;
            cursor: pointer;
            border-radius: 5px;
            text-align: left;
            text-align: center;
        }

        .tab-buttons button.active {
            background-color: #0056b3;
        }

        /* Right-side Tab Contents */
        .tab-content-container {
            flex-grow: 1;
            padding: 20px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .item-1-wrapper {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
    </style>
</head>

<body>
    <header>
        <div class="logo">
            <img src="logo.jpg" alt="Logo">
        </div>
        <!-- <button id="menuToggle" class="menu-toggle"><i class="fa-solid fa-bars"></i></button> -->
        <!-- <nav id="sidebarMenu" class="sidebar-menu">
             <ul>
                    <li><a href="gt.html" target="_blank">Giới thiệu</a></li>
                    <li class="list"><a href="#">Dịch vụ <i class="fa-solid fa-angle-down"></i></a>
                        <ul class="list_down">
                            <li class="list_down_item"><a href="#Bang_dieu_khien">Bảng điều khiển</a></li>
                            <li class="list_down_item"><a href="#Du_lieu_cam_bien">Dữ liệu cảm biến</a></li>
                            <li class="list_down_item"><a href="#Lich_su_van_tat_tbi">Lịch sử vắn tắt thiết bị</a></li>
                            <li class="list_down_item"><a href="#Profile">Profile</a></li>
                        </ul>
                    </li>
                    <li><a href="kh.html">Khách hàng</a></li>
                    <li><a href="#Profile">Liên hệ</a></li>
                </ul> -->
        </nav>
    </header>

    <section>
        <div class="main-content">
            <!-- Left-side Tab Buttons -->
            <div class="tab-buttons">
                <button id="dashboardTab" class="active">Dashboard</button>
                <button id="sensorDataTab">Sensor Data</button>
                <button id="actionHistoryTab">Action History</button>
                <button id="profileTab">Profile</button>
            </div>

            <!-- Right-side Tab Contents -->
            <div class="tab-content-container">
                <div id="dashboardTabContent" class="tab-content active">
                    <div class="sensor_content">
                        <div class="nhietdo">Temperature <i class="fa-solid fa-temperature-three-quarters"></i>
                            <p>50</p>
                        </div>

                        <div class="doam">Humid <i class="fa-solid fa-droplet"></i>
                            <p>20</p>
                        </div>

                        <div class="anhsang">Light <i class="fa-solid fa-sun"></i>
                            <p>40</p>
                        </div>
                    </div>

                    <div class="table" id="Bang_dieu_khien">
                        <div class="item-1-wrapper">
                            <div class="table-con">
                                <div class="item-2">
                                    <canvas id="combinedChart"></canvas>
                                </div>
                                <div class="item-3">
                                    <div class="i3 item-3-1">
                                        <p class="quat"><i class="fa-solid fa-fan"></i></p>
                                        <input type="checkbox" class="switch" id="on-off-quat">
                                    </div>
                                    <div class="i3 item-3-2">
                                        <p class="dhoa"><i class="fa-solid fa-snowflake"></i></p>
                                        <input type="checkbox" class="switch" id="on-off-dh">
                                    </div>
                                    <div class="i3 item-3-3">
                                        <p class="den"><i class="fa-regular fa-lightbulb"></i></p>
                                        <input type="checkbox" class="switch" id="on-off-den">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="sensorDataTabContent" class="tab-content">
                    <h2>Sensor Data</h2>
                    <input type="text" id="searchInput" placeholder="Search...">
                    <table id="sensorDataTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Temperature</th>
                                <th>Humid</th>
                                <th>Light</th>
                                <th>Time</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                            <!-- Sensor data will be inserted here by JavaScript -->
                        </tbody>
                    </table>
                    <div id="pagination">
                        <!-- Pagination buttons will be generated by JavaScript -->
                    </div>
                </div>




                <div id="actionHistoryTabContent" class="tab-content">
                    <h2>Device History</h2>
                    <input type="text" id="historySearchInput" placeholder="Search...">
                    <table id="historyTable" class="table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Device</th>
                                <th>Action</th>
                                <th>Time</th>
                            </tr>
                        </thead>
                        <tbody id="historyTableBody">
                            <!-- Rows will be populated here by JavaScript -->
                        </tbody>
                    </table>
                    <div id="historyPagination" class="pagination">
                        <!-- Pagination buttons will be populated here by JavaScript -->
                    </div>
                </div>

                <div id="profileTabContent" class="tab-content">
                    <h2>My Profile</h2>
                    <div class="profile" id="Profile">
                        
                        <div class="cot-1">
                            <div class="gioi_thieu">
                                <div class="avatar"><img src="anhmeo.jpg" alt=""></div>
                            </div>
                        </div>
                        <div class="cot-2">
                            <p>Họ và tên: <b>Lê Xuân Mạnh</b></p>
                            <p>Mã sinh viên: B21DCAT125</p>
                            <p>Lớp: D21CQAT01-B</p>
                            <p>Link Git: <a href="https://github.com/manhle0607/IOT_source.git">https://github.com/manhle0607/IOT_source.git</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>

        document.getElementById('on-off-quat').addEventListener('change', function() {
            const icon = document.querySelector('.quat i');
            if (this.checked) {
                icon.classList.add('active-icon');
            } else {
                icon.classList.remove('active-icon');
            }
        });
        
        document.getElementById('on-off-dh').addEventListener('change', function() {
            const icon = document.querySelector('.dhoa i');
            if (this.checked) {
                icon.classList.add('active-icon2');
            } else {
                icon.classList.remove('active-icon2');
            }
        });

        document.getElementById('on-off-den').addEventListener('change', function() {
            const icon = document.querySelector('.den i');
            if (this.checked) {
                icon.classList.add('active-lightbulb');
            } else {
                icon.classList.remove('active-lightbulb');
            }
        });

        document.addEventListener('DOMContentLoaded', function () {
            const tabs = document.querySelectorAll('.tab-buttons button');
            const contents = document.querySelectorAll('.tab-content');

            tabs.forEach(tab => {
                tab.addEventListener('click', function () {
                    tabs.forEach(btn => btn.classList.remove('active'));
                    contents.forEach(content => content.classList.remove('active'));

                    this.classList.add('active');
                    const targetId = this.id.replace('Tab', 'TabContent');
                    document.getElementById(targetId).classList.add('active');
                });
            });

            // Display temperature chart by default
            document.getElementById('btn-nhietdo').addEventListener('click', function () {
                document.getElementById('temperatureChart').style.display = 'block';
                document.getElementById('humidityChart').style.display = 'none';
                document.getElementById('lightChart').style.display = 'none';
            });

            document.getElementById('btn-doam').addEventListener('click', function () {
                document.getElementById('temperatureChart').style.display = 'none';
                document.getElementById('humidityChart').style.display = 'block';
                document.getElementById('lightChart').style.display = 'none';
            });

            document.getElementById('btn-anhsang').addEventListener('click', function () {
                document.getElementById('temperatureChart').style.display = 'none';
                document.getElementById('humidityChart').style.display = 'none';
                document.getElementById('lightChart').style.display = 'block';
            });
        });

        document.getElementById('actionHistoryTab').addEventListener('click', function() {
            // Thay đổi URL mà không tải lại trang
            window.location.href = 'new.html';
        
            // Nạp nội dung mới vào phần tử hiện tại
            fetch('new.html')
                .then(response => response.text())
                .then(html => {
                    // Cập nhật nội dung của phần tử cụ thể (ví dụ: #actionHistoryTabContent)
                    document.getElementById('actionHistoryTabContent').innerHTML = html;
                })
                .catch(error => {
                    console.error('Error loading new content:', error);
                });
        });
        

        //document.addEventListener('DOMContentLoaded', function () {
        //    const menuToggle = document.getElementById('menuToggle');
        //   const sidebarMenu = document.getElementById('sidebarMenu');

        //    menuToggle.addEventListener('click', function () {
        //        sidebarMenu.classList.toggle('open');
        //    });
        //});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="GD.js"></script>
    <script src="sensor.js"></script>
    <script src="deviceHistory.js"></script>
</body>


</html>
